# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é NutriChecker App

## –¢–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è React Native/Expo –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### 1. **Unit Tests (–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã)** ‚úÖ
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —É—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Jest (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ —ç–º—É–ª—è—Ç–æ—Ä–∞

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –£—Ç–∏–ª–∏—Ç—ã: `utils/calorieCalculations.ts`
- –°–µ—Ä–≤–∏—Å—ã: `services/mealService.ts`
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É: —Ä–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π, –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
- API –ø–∞—Ä—Å–µ—Ä—ã: `utils/aiResponseParser.ts`

**–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:**
```javascript
// utils/__tests__/calorieCalculations.test.ts
test('getCaloriesForDate returns saved calories', async () => {
  const result = await getCaloriesForDate('2024-12-25');
  expect(typeof result).toBe('number');
});
```

### 2. **Component Tests (–¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)** üîÑ
–¢–µ—Å—Ç–∏—Ä—É—é—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- React Native Testing Library 
- Jest
- Enzyme (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `CircularProgress`, `ProductCard`
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–ø—Å–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

### 3. **Integration Tests (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)** üîÑ
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ AsyncStorage

### 4. **End-to-End Tests (E2E —Ç–µ—Å—Ç—ã)** üöÄ
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –ø–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- **Detox** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è React Native)
- **Appium** 
- **Maestro** (–Ω–æ–≤—ã–π, –ø—Ä–æ—Å—Ç–æ–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ)

## üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Cursor

### A. **Manual Testing (–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**

**1. –°–∏–º—É–ª—è—Ç–æ—Ä iOS/Android:**
```bash
npm run ios     # iOS —Å–∏–º—É–ª—è—Ç–æ—Ä
npm run android # Android —ç–º—É–ª—è—Ç–æ—Ä
npm run web     # Web –≤–µ—Ä—Å–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
```

**2. Expo Go –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:**
```bash
npm start
# –°–∫–∞–Ω–∏—Ä—É–π QR –∫–æ–¥ –≤ Expo Go
```

**3. Hot Reload –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- Cmd+R –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- Cmd+D –¥–ª—è –º–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### B. **Automated Testing (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**

**1. –ü—Ä–æ—Å—Ç—ã–µ Jest —Ç–µ—Å—Ç—ã (—Ä–∞–±–æ—Ç–∞—é—Ç):**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç
touch utils/__tests__/myFunction.test.ts

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm test
```

**2. –î–µ—Ç–æ–∫—Å E2E (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π):**
```bash
npm install --save-dev detox
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ detox.config.js
```

**3. Maestro E2E (–ø—Ä–æ—Å—Ç–æ–π):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
curl -Ls "https://get.maestro.mobile.dev" | bash

# –°–æ–∑–¥–∞—Ç—å flow —Ñ–∞–π–ª
touch test_flow.yaml
```

### C. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**

**1. Console Debugging:**
```javascript
console.log('üîç Debugging value:', value);
console.warn('‚ö†Ô∏è Warning:', warning);
console.error('‚ùå Error:', error);
```

**2. React Native Debugger:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install --cask react-native-debugger

# –ó–∞–ø—É—Å–∫
react-native-debugger
```

**3. Flipper (Facebook):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install --cask flipper
```

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è NutriChecker

### 1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```javascript
// 1. –ö–∞–ª—å–∫—É–ª—è—Ü–∏–∏ –∫–∞–ª–æ—Ä–∏–π
describe('Calorie Calculations', () => {
  test('getCurrentCalorieGoal returns valid number', async () => {
    const goal = await getCurrentCalorieGoal();
    expect(goal).toBeGreaterThan(0);
  });
});

// 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ AI –æ—Ç–≤–µ—Ç–æ–≤
describe('AI Response Parser', () => {
  test('parseNutritionData handles valid response', () => {
    const mockResponse = { calories: 150, protein: 20 };
    const result = parseNutritionData(mockResponse);
    expect(result.calories).toBe(150);
  });
});

// 3. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
describe('Date Utils', () => {
  test('formatDateToString returns correct format', () => {
    const date = new Date('2024-12-25');
    const result = formatDateToString(date);
    expect(result).toBe('25.12.2024');
  });
});
```

### 2. **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞**
1. –û—Ç–∫—Ä—ã—Ç—å —Å–∫–∞–Ω–µ—Ä
2. –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ç–∞  
3. –î–æ–∂–¥–∞—Ç—å—Å—è AI –∞–Ω–∞–ª–∏–∑–∞
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
5. –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–Ω–µ–≤–Ω–∏–∫

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏**
1. –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–Ω–±–æ—Ä–¥–∏–Ω–≥**
1. –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü—Ä–æ–π—Ç–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 3. **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å Maestro:**

```yaml
# test_nutrition_flow.yaml
appId: your.app.bundle.id

---
- launchApp
- tapOn: "–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç"  
- takeScreenshot: scan_screen
- tapOn: "–í—ã–±—Ä–∞—Ç—å –∏–∑ –≥–∞–ª–µ—Ä–µ–∏"
- tapOn: "–î–æ–±–∞–≤–∏—Ç—å –≤ –¥–Ω–µ–≤–Ω–∏–∫"
- assertVisible: "–ü—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω"
```

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
maestro test test_nutrition_flow.yaml
```

## üö® –ë—ã—Å—Ç—Ä—ã–µ —Å–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. **Console.log —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```javascript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏
console.log('üìä Nutrition data:', nutritionData);
console.log('üéØ Current calorie goal:', calorieGoal);
console.log('üìÖ Selected date:', currentDate);
```

### 2. **Alert —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```javascript
// –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π
Alert.alert('Debug', `Calories: ${calories}, Goal: ${goal}`);
```

### 3. **Dev Menu shortcuts:**
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
if (__DEV__) {
  // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
  const testData = { calories: 1500, protein: 50 };
  console.log('üß™ Test data:', testData);
}
```

### 4. **Error Boundaries –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫:**
```javascript
class ErrorBoundary extends React.Component {
  componentDidCatch(error, errorInfo) {
    console.log('üö® Error caught:', error, errorInfo);
  }
}
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
npm start -- --clear

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
npm run ios -- --simulator="iPhone 15 Pro"

# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
npm run build:ios
npm run build:android

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
npx react-native log-ios
npx react-native log-android
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
2. ‚úÖ –î–æ–±–∞–≤–ª—è–π console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. ‚úÖ –ü–∏—à–∏ –ø—Ä–æ—Å—Ç—ã–µ Jest —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç

**–î–ª—è —Å–µ—Ä—å–µ–∑–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. üîÑ –ù–∞—Å—Ç—Ä–æ–π React Native Testing Library
2. üöÄ –ò—Å–ø–æ–ª—å–∑—É–π Maestro –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤
3. üìä –î–æ–±–∞–≤—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (Sentry)

React Native —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º, –Ω–æ –Ω–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏! 